<?php
//include auth.php file on all secure pages
include("auth.php");

require_once("header.html"); 
?>
<script>
       function toggleBuyNow() {
         const div = document.getElementById('disciplines')
         const checkboxes = div.querySelectorAll('input[type="checkbox"]')
         return !Array.from(checkboxes).some((cb) => cb.checked == true)
       }

       function Single() {
         //найти все checkbox в блоке disciplines
         const div = document.getElementById('disciplines')
         const checkboxes = div.querySelectorAll('input[type="checkbox"]');
         checkboxes.forEach( checkbox => {
           checkbox.checked = true
//           checkbox.disabled = true
         })
         document.getElementById('buyNow').disabled = false
         document.getElementById("total").innerHTML = '&euro;0'
         single.style.display = 'block'
         site.style.display = 'none'
       }

       function Site() {
         //найти все checkbox в блоке disciplines
         const div = document.getElementById('disciplines')
         const checkboxes = div.querySelectorAll('input[type="checkbox"]');
         checkboxes.forEach( checkbox => {
           //checkbox.checked = !(checkbox.checked)
           checkbox.checked = false
           checkbox.disabled = false
         })
         document.getElementById('buyNow').disabled = true
         single.style.display = 'none'
         site.style.display = 'block'
       }

       function submitData(e) {
         e.preventDefault();
         const form = document.forms["myForm"]
         const formData = new FormData(form)
         fetch('http://127.0.0.1/price.php', {
             method: "POST",
             body: formData,
         })
         .then(response => response.text())
         .then(data => {
             document.getElementById("total").innerHTML = `&euro;${Math.trunc(data)}<sub>${String(data % 1).substr(1,3)}</sub>`
         })
         .catch((error) => {
            // Handle error
           console.log("error ", error);
         });
         document.getElementById('buyNow').disabled = toggleBuyNow()
       }

        window.addEventListener("load", (event) => {
          const div = document.getElementById('disciplines')
          const checkboxes = div.querySelectorAll('input[type="checkbox"]');
          checkboxes.forEach( checkbox => {
            checkbox.addEventListener("change", submitData)
          })
        })
</script>

<section id="price">
<form id="myForm" action="subscribe.html" method="post">
  <h2 class="display-3">Pricing options</h2>
  <div class="row">
    <div class="col-sm-6 d-grid gap-3">
      <input type="hidden" name="years" value=1>
      <!--div>
        <h5 class="text-uppercase">Extend support & upgrade period</h5>
          <div>
            <input type="radio" class="" name="years" id="year1" value="1">
            <label class="" for="year1">1 year</label>
            <input type="radio" class="" name="years" id="year2" value="2">
            <label class="" for="year2">2 years</label>
            <input type="radio" class="" name="years" id="year3" value="3">
            <label class="" for="year3">3 years</label>
          </div>
        <p>One year support and upgrades is included by default. You can extend this period for up to three years with a significant discount.</p>
      </div-->

      <div>  
        <h5 class="text-uppercase">Select license type</h5> 
          <div>
            <input type="radio" class="btn-check" name="licence" id="option2" value="1">
            <label class="btn btn-outline-primary" for="option2"onclick="Site();">Site</label>
            <input type="radio" class="btn-check" name="licence" id="option1" value="0" checked>
            <label class="btn btn-outline-primary" for="option1" onclick="Single();">Single</label>
          </div>
        <div id="single"><b>Single License</b> is for one individual use only. All disciplines avalable. 1 judge console. Free subscription.</div>
        <div id="site" style="display:none"><b>Site License</b> is for an unlimited number of computers within a single company. It includes: web publishing features, up to 5 judge consoles. Regular Price &euro;200 per discipline.</div>
      </div>

      <div>  
        <h5 class="text-uppercase">Disciplines</h5>
        <div id="disciplines" class="border p-2">
          <!-- outdoor -->
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox1" name="types[]" value="FS" checked>
            <label class="form-check-label" for="inlineCheckbox1">Formation Skydiving</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox2" name="types[]" value="SF" checked>
            <label class="form-check-label" for="inlineCheckbox2">Speed Formation Skydiving</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox3" name="types[]" value="AE" checked>
            <label class="form-check-label" for="inlineCheckbox3">Artistic Events</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox4" name="types[]" value="CF" checked>
            <label class="form-check-label" for="inlineCheckbox4">Canopy Formation</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox5" name="types[]" value="WS" checked>
            <label class="form-check-label" for="inlineCheckbox5">Wingsuit Flying Perfomance</label>
          </div>
          <!-- 
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox6" name="types[]" value="WA" disabled>
            <label class="form-check-label" for="inlineCheckbox6">Wingsuit Flying Acrobatic</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox7" name="types[]" value="CP" disabled>
            <label class="form-check-label" for="inlineCheckbox7">Canopy Piloting</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox8" name="types[]" value="SP" disabled>
            <label class="form-check-label" for="inlineCheckbox8">Speed Skydiving</label>
          </div>
indoor
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox9" name="types[]" value="IF" disabled>
            <label class="form-check-label" for="inlineCheckbox9">Indoor Formation Skydiving</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox10" name="types[]" value="IS" disabled>
            <label class="form-check-label" for="inlineCheckbox10">Indoor Solo Freestyle</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox11" name="types[]" value="DS" disabled>
            <label class="form-check-label" for="inlineCheckbox11">Dynamic Solo Speed</label>
          </div>
          <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox12" name="types[]" value="DY" disabled>
            <label class="form-check-label" for="inlineCheckbox12">Dynamic Flying</label>
          </div>
          -->    
        </div>
        <!--p>Select disciplines you need</p-->
      </div>
  
      <!--div>
        <h5 class="text-uppercase">Cloud video storage</h5>
        <p><input class="form-check-input" type="checkbox" id="" name="cloud">
           Premium видео выгружаются на cloud (вся стоимость аренды cloud + 15% за обслуживание).</p>
      </div-->

    </div>
    <div class="col-sm-6" style="background:lightgrey">
      <div class="text-center p-2">
        <div><span id="total" class="fs-2">&euro;0</span></div>
        <div><small>Price does not include taxes </small></div><br>
        <div><button id="buyNow" type="submit" class="btn btn-success btn-lg" href="subscribe.html">&nbsp; Buy now &nbsp;</button></div>
      </div>
      <p>Key features
         <ul>
           <li>All features avalable</li>
           <li>No advertising or nag-window</li>
           <li>Evaluate products with Free Single License</li>
         </ul>
      </p>
      <p class="text-center p-2">
        <br>
        <b>Looking to upgrade? <a href="contact.html">Contact Our team</a></b> to move to a more flexible license type.
      </p>
    </div>
  </div>
  </form>
</section>


<section id="subscription" class="border my-5">
  <h2 class="display-3">Purchasing benefits</h2>
	<p>Initial purchase includes annual subscription. 1 year period means 365 days from subscription's date. <br>
           Technical support provides for customers with active subscription.</p>
	<p>The subscription-based model provides the following advantages:</p>
	<ul>
		<li>free upgrades including new releases, updates and hotfixes;</li>
		<li>Online check version, also you will get an E-Mail when a new OPTIMUS version is available;</li>
		<li>fast free technical support via e-mail;</li>
		<li>30 days before a subscription expires, OPTIMUS will send an email notification to alert you to the fact that a new subscription will need to be purchased. 
		An email notification will then again be sent 14 days before a subscription expires. </li>
		<!--li>Significant discounts on multi-year subscriptions.</li-->
		<li>New features by request (for Site-licensed users only). It will be included in following release and accesible for all Optimus users.</li>
	</ul>
        <p><span class="fw-bold h3">&#33; </span> 
	After your regular software subscription expires or used corupted license file a <strong>Freemium model</strong> will apply (nag window will appears, you won't get new versions or updates, any modules won't work.
	In these cases please contact with our tech support service.</p>
</section>


<section id="download" class="my-5" style="background:#ffaa33">
  <p class="text-center p-2">
    If you don't have OPTIMUS yet, visit a <a href="download.html" class="">download page</a>.
  </p>
  <p>&nbsp;</p>
</section>


  <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4">
    <div class="d-flex p-2 align-items-center flex-fill" style="background-image: radial-gradient(circle at top right,#08088A,#58A2FA 50%);">
      <span class="mb-3 mb-md-0 text-body-secondary"> 
        &copy 2025  <a href="mailto:support@optimus.dp.ua">Optimus Team</a><br>
      </span>
    </div>
  </footer>

</div> <!--container-->


</body>
</html>
