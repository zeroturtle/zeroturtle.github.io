<!DOCTYPE html>
<html lang="en" data-critters-container>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <base href="https://zeroturtle.github.io/">
    <title>OPTIMUS Results Page</title>
    <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="icon" type="image/x-icon" href="favicon.png">
<style>
td { min-width: 50px; }
::backdrop {
  background: rgba(0,0,0,0.7);
  opacity: 0.75;
}
</style>

<style>
 /* Style the tab */
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}

/* Style the buttons that are used to open the tab content */
.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
}

/* Change background color of buttons on hover */
.tab button:hover {
  background-color: #ddd;
}

/* Create an active/current tablink class */
.tab button.active {
  background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
} 
</style>
<script>
function openCity(evt, cityName) {
  // Declare all variables
  var i, tabcontent, tablinks;

  // Get all elements with class="tabcontent" and hide them
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
} 
</script>
</head>

  <body id="Body">

<div style="background-image: url(OPTIMUS3.jpg);background-size: cover;background-position: -0em -25em;">
<H1 style="font-size: 52px;color: #ff9000;line-height: 52px;text-align: center;">Чемпіонат України 2024</H1>
<h2 style="font-size: 40px;color: #ffffff;line-height: 40px;text-align: center;">парашутна групова акробатика<br>
    вправа "четвірка"</h2>
</div>
<div style="width: 50%; float:left;text-align: center;">
   <h3>22 - 24 серпня, 2024</h3>
   <h3>LOCATION:</h3>
	<h4>аэроклуб "Skydive Warszawa"<br>
	Республика Польща,<br>
	Аэропорт Хрцинно, 05-190 Насельск</h4>

<h3>SCHEDULE</h3>
<table border="1" width="100%">
<tr><td>19 автуста</td><td>Official Arrival Day, Practice Period</td><td>All Day</td></tr>
<tr><td>20 автуста</td><td>Official Practice Period</td><td>7:00 - 20:00</td></tr>
<tr><td>21 автуста</td><td>Opening Ceremony</td><td>18:00</td></tr>
<tr><td>22 автуста</td><td>FS Competition Jumps Start</td><td>7:00</td></tr>
<tr><td>23 автуста</td><td>FS Competition</td><td>All Day</td></tr>
<tr><td>24 автуста</td><td>Awards and Closing Ceremony</td><td>14:00</td></tr>
</table>
</div>
<div style="float:left;text-align: center;">
<h3>Заліки:</h3>
<h4 style="box-sizing: border-box; padding: 20px; background-color: #277bf9; color: #ffffff;">Відкритий</h4>
<h4 style="box-sizing: border-box; padding: 20px; background-color: #277bf9; color: #ffffff;">Україна</h4>
<p><button>Реєстрація</button></p>

<h3>Where to Watch</h3>

<p>Scores, pictures, videos, and livestream begin 22 августа, 2024</p>
<p><a href="">Facebook Event Page</a></p>

</div>


 <!-- Tab links -->
<div class="tab" style="width: 100%;">
  <button class="tablinks" onclick="openCity(event, 'London')">General details</button>
  <button class="tablinks" onclick="openCity(event, 'Paris')">About the drop zone</button>
  <button class="tablinks" onclick="openCity(event, 'Tokyo')">Food and Overight stay</button>
  <button class="tablinks" onclick="openCity(event, 'Dnepr')">Jump Prices</button>
  <button class="tablinks" onclick="openCity(event, 'Bulletin1')">Bulletin #1</button>
</div>

<!-- Tab content -->
<div id="London" class="tabcontent">
  <p>
<ul>
<li>FAI competition rules</li>
<li>Professional “live” judging & scoring</li>
<li>Great atmosphere</li>
<li>Jumps from 10,500 ft</li>
<li>CESSNA OY-RUL, SKYVAN</li>
<li>Great food</li>
<li>Amazing people</li>
<li>Onsite campground</li>
<li>Campfire</li>
</ul>
</p>
</div>


<div id="Paris" class="tabcontent">
  <p>Дропзона знаходиться в аэропорту Хрцинно в місті 05-190 Насельск, Республика Польща.</p>
  <p>Додаткова інформація про ДЗ за посиланням <a href="https://skydive.waw.pl/">https://skydive.waw.pl/</a></p>
  <p>Та за телефоном +48 604 176 930</p>
</div> 

<div id="Tokyo" class="tabcontent">
  <p>
<h3>Food</h3>
<ul>
<li>Breakfast, Lunch & Dinner available at the Dropzone.</li>
<li>Breakfast (Saturday & Sunday) – € tbd</li>
<li>Lunch (Saturday & Sunday) – € tbd</li>
<li>Dinner (Saturday) – € tbd</li>
</ul>

<h3>Overnight stay</h3>
<ul>
<li>Ви можете розміститись у аеродромному хостелі, з туалетом та душем.</li>
<li>Або забронювати місце у готелі у Варшаві<br>
    <a href="https://www.hotel.pl">Найкращий готель</a><br>
</li>
</ul> 
</p>
</div>

<div id="Dnepr" class="tabcontent">
  <p>Заявочний взнос: €150</p>
  <p>Командні стрибки (10): €1,250</p>
  <p>Кожний учасник сплачує за стрибки самостійно</p>
  <p>* Ціна стрибків може змінитись при різкому збільшенні ціни палива</p>
</div> 
<div id="Bulletin1" class="tabcontent">
<ul>
<li>OPTIMUS будет использоваться в качестве electronic scoring systems </li>
<li>Все участники обязаны иметь страховку действительную на ДЗ</li>
<li>Все запасные парашюты должны быть переложены не раньше 180 дней период переукладки</li>
</ul>
</div> 
<hr>
   <h3> Таблица результатов: </h3>

<dialog>
  <div onclick="closedialog();" style="cursor: pointer;">X</div>
  <div id="popup-content">
    <iframe src="about:blank" onload='javascript:(function(o){o.style.height=o.contentDocument.body.scrollHeight+45+"px";o.style.width=o.contentDocument.body.scrollWidth+45+"px";}(this));' style="max-width:80vw;min-width:100px;min-height:100px;border:none;overflow:hidden;"></iframe>
  </div>
</dialog>

   <div id="container"></div>


    <script>
	const code3=['AUS','AUT','AZE','ALB','DZA','AIA','AGO','AND','ATA','ATG','ANT','ARG','ARM','ABW','AFG','BHS','BGD','BRB','BHR','BLR','BLZ','BEL','BEN','BMU','BVT','BGR','BOL','BIH','BWA','BRA','BRN','BFA','BDI','BTN','VUT','VAT','GBR','HUN','VEN','VGB','VIR','ASM','TMP','VNM','GAB','HTI','GUY','GMB','GHA','GLP','GTM','GIN','GNB','DEU','GIB','HND','HKG','GRD','GRL','GRC','GEO','GUM','DNK','COD','DJI','DMA','DOM','EGY','ZMB','ESH','ZWE','ISR','IND','IDN','JOR','IRQ','IRN','IRL','ISL','ESP','ITA','YEM','CPV','KAZ','CYM','KHM','CMR','CAN','QAT','KEN','CYP','KGZ','KIR','CHN','CCK','COL','COM','COG','CRI','CIV','CUB','KWT','COK','LAO','LVA','LSO','LBR','LBN','LBY','LTU','LIE','LUX','MUS','MRT','MDG','MYT','MAC','MKD','MWI','MYS','MLI','MDV','MLT','MAR','MTQ','MHL','MEX','FSM','MOZ','MDA','MCO','MNG','MSR','MMR','NAM','NRU','NPL','NER','NGA','NLD','NIC','NIU','NZL','NCL','NOR','NFK','ARE','OMN','PAK','PLW','?','PAN','PNG','PRY','PER','PCN','POL','PRT','PRI','REU','CXR','RUS','RWA','ROM','SLV','WSM','SMR','STP','SAU','SWZ','SJM','SHN','PRK','MNP','SYC','VCT','SPM','SEN','KNA','LCA','SGP','SYR','SVK','SVN','USA','SLB','SOM','SDN','SUR','SLE','TJK','THA','TWN','TZA','TCA','TGO','TKL','TON','TTO','TUV','TUN','TKM','TUR','UGA','UZB','UKR','WLF','URY','FRO','FJI','PHL','FIN','FLK','FRA','GUF','PYF','HMD','HRV','CAF','TCD','CZE','CHL','CHE','SWE','LKA','ECU','GNQ','ERI','EST','ETH','YUG','ZAF','SGS','KOR','JAM','JPN','ATF','IOT','UMI']
	const code2=['AU','AT','AZ','AL','DZ','AI','AO','AD','AQ','AG','AN','AR','AM','AW','AF','BS','BD','BB','BH','BY','BZ','BE','BJ','BM','BV','BG','BO','BA','BW','BR','BN','BF','BI','BT','VU','VA','GB','HU','VE','VG','VI','AS','TP','VN','GA','HT','GY','GM','GH','GP','GT','GN','GW','DE','GI','HN','HK','GD','GL','GR','GE','GU','DK','CD','DJ','DM','DO','EG','ZM','EH','ZW','IL','IN','ID','JO','IQ','IR','IE','IS','ES','IT','YE','CV','KZ','KY','KH','CM','CA','QA','KE','CY','KG','KI','CN','CC','CO','KM','CG','CR','CI','CU','KW','CK','LA','LV','LS','LR','LB','LY','LT','LI','LU','MU','MR','MG','YT','MO','MK','MW','MY','ML','MV','MT','MA','MQ','MH','MX','FM','MZ','MD','MC','MN','MS','MM','NA','NR','NP','NE','NG','NL','NI','NU','NZ','NC','NO','NF','AE','OM','PK','PW','PS','PA','PG','PY','PE','PN','PL','PT','PR','RE','CX','RU','RW','RO','SV','WS','SM','ST','SA','SZ','SJ','SH','KP','MP','SC','VC','PM','SN','KN','LC','SG','SY','SK','SI','US','SB','SO','SD','SR','SL','TJ','TH','TW','TZ','TC','TG','TK','TO','TT','TV','TN','TM','TR','UG','UZ','UA','WF','UY','FO','FJ','PH','FI','FK','FR','GF','PF','HM','HR','CF','TD','CZ','CL','CH','SE','LK','EC','GQ','ER','EE','ET','YU','ZA','GS','KR','JM','JP','TF','IO','UM']
	// ÷òîá çàêðûòü dialog
	const modal = document.querySelector('dialog')
	const frame = modal.querySelector('iframe')
	function closedialog() {
//		frame.src="about:blank"
		frame.srcdoc = ""
		modal.close()
	}
	function windowOnClick(event) {
		if (event.target === modal) {
			closedialog()
		}
	}
	window.addEventListener("click", windowOnClick); 

	// get last-modified of proto.html
/*	fetch("proto.html", {method: "HEAD"})
		.then (r => document.getElementById('container').after('Last-Modified: '+ r.headers.get('Last-Modified')))
		.catch(e => console.error(e))
*/

	// çàãðóæàåì ïðîòîêîë
	window.addEventListener("load", (event) => {
		fetch('proto.html')
		.then(response => response.text())
		.then((data) => {
			container.innerHTML= data   //âûâîäèì ïðîòîêîë
			// äëÿ êàæäîé ññûëêå íå "0" äîáàâëÿåì âûçîâ detail
			for (lnk of [].filter.call(document.getElementsByTagName('a'), item =>(item.pathname.split('/').slice(-1))[0] !=0))  
				if (lnk.href.endsWith('jpg')) {
					lnk.addEventListener("click", displayTeamDetails)
				}
				else { 
					lnk.addEventListener("click", displayRoundDetails)
				}
			// convert country name to flag SVG-image
			for (const cell of document.querySelectorAll('td')) {
				if (cell.cellIndex == 1 && code3.indexOf(cell.innerText) > 0) {
					let img = document.createElement("img");
					img.setAttribute("src", `./flags/${(code2[code3.indexOf(cell.innerText)]).toLowerCase()}.svg`)
					img.setAttribute("alt", `${cell.innerText}`)
					img.style.width = "40px";
					cell.innerHTML = '';
					cell.append(img);
				}
			}
		})
	})

//Team Photo
function displayTeamDetails() {
	event.preventDefault()
	var doc = document.implementation.createHTMLDocument('Team Photo')
	let img = document.createElement("img");
	img.setAttribute("src", (this.pathname.split('/').slice(-1))[0])
	img.setAttribute("alt", (this.pathname.split('/').slice(-1))[0])
//	img.style.height = '100vh'
	doc.body.append(img)
	doc.body.insertAdjacentHTML('afterbegin',`<h2>${this.innerHTML}<h2>`) //team name
	doc.body.insertAdjacentHTML('beforeend','Team Members:')

	frame.srcdoc = doc.documentElement.outerHTML
	modal.showModal()
}

// round detail
function displayRoundDetails() {
	event.preventDefault()
	// çàãðóæàåì ñóäåéñêóþ çàïèñêó	
	fetch( new URL(this+'.html') )
		.then(response => response.text())
		.then((html) => {
			// Convert the HTML string into a document object
			var doc = new DOMParser().parseFromString(html, "text/html")
			doc.head.insertAdjacentHTML('beforeend', '<link type="text/css" rel="stylesheet" href="detail.css">');
			//<a target="parent"> will open links in a new tab/window ... <a target="_parent"> will open links in the parent/current window.
			for(a of doc.querySelectorAll('a')) a.setAttribute('target','parent')

			frame.srcdoc = doc.documentElement.outerHTML
			modal.showModal()
		})
		.catch(error => console.error('Error fetching file:', error))
}
	document.querySelector('body').insertAdjacentText('beforeend', 'Powered by OPTIMUS Prometheus')
    </script>

</body>
</html>